import{j as e}from"./index-B7BfkAiW.js";import{r as s}from"./icons-CpcCsFSF.js";import"./react-DJG_os-6.js";import"./firebase-BAGuws0L.js";import"./date-CFbvH-ln.js";const P=({onInstall:p,onDismiss:x})=>{const[l,i]=s.useState(null),[h,o]=s.useState(!1),[a,u]=s.useState(!1),[f,g]=s.useState(!1);s.useEffect(()=>{const t=/iPad|iPhone|iPod/.test(navigator.userAgent);u(t);const m=window.matchMedia("(display-mode: standalone)").matches,d=!m&&!localStorage.getItem("pwa-install-dismissed");if(g(m),d&&!t){const r=c=>{c.preventDefault(),i(c),o(!0)};return window.addEventListener("beforeinstallprompt",r),()=>{window.removeEventListener("beforeinstallprompt",r)}}else d&&t&&(localStorage.getItem("ios-install-prompted")||o(!0))},[]);const w=async()=>{if(l){l.prompt();const t=await l.userChoice;console.log("PWA installation result:",t),i(null)}o(!1),p?.()},n=()=>{localStorage.setItem("pwa-install-dismissed","true"),a&&localStorage.setItem("ios-install-prompted","true"),o(!1),x?.()};return!h||f?null:e.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 mx-auto max-w-md",children:e.jsx("div",{className:"bg-primary-600 text-white p-4 rounded-xl shadow-lg border border-primary-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 text-2xl",children:"ğŸ“±"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold mb-1",children:"ì•±ìœ¼ë¡œ ì„¤ì¹˜í•˜ê¸°"}),e.jsx("p",{className:"text-sm text-blue-100 mb-3",children:a?'ê³µìœ  ë²„íŠ¼ â†’ "í™ˆ í™”ë©´ì— ì¶”ê°€"ë¥¼ ëˆŒëŸ¬ì„œ ì•±ì„ ì„¤ì¹˜í•˜ì„¸ìš”.':"TodoListë¥¼ ì•±ìœ¼ë¡œ ì„¤ì¹˜í•´ì„œ ë” ë¹ ë¥´ê²Œ ì‚¬ìš©í•´ë³´ì„¸ìš”!"}),e.jsxs("div",{className:"flex gap-2",children:[!a&&e.jsx("button",{onClick:w,className:"px-4 py-2 bg-white text-primary-600 rounded-lg text-sm font-medium hover:bg-gray-100 transition-colors",children:"ì„¤ì¹˜í•˜ê¸°"}),e.jsx("button",{onClick:n,className:"px-4 py-2 bg-primary-500 text-white rounded-lg text-sm font-medium hover:bg-primary-400 transition-colors",children:"ë‚˜ì¤‘ì—"})]})]}),e.jsx("button",{onClick:n,className:"flex-shrink-0 text-blue-200 hover:text-white transition-colors p-1",children:"âœ•"})]})})})};export{P as default};
