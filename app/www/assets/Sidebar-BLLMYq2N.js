import{u as S,j as e,a as $,b as C,c as A,i as h,D as R}from"./index-D4H5gFZ8.js";import{d as n,a7 as z,t as E,a8 as I,a9 as U,S as V,X as L,a6 as B,f as H,aa as O,ab as P}from"./icons-Ezod4H6N.js";import"./react-DJG_os-6.js";import"./firebase-BUAVoIHS.js";import"./date-C6uY6f2f.js";const X=()=>{const{theme:i,setTheme:c}=S(),l=[{value:"light",label:"Light"},{value:"dark",label:"Dark"},{value:"system",label:"System"}];return e.jsx("div",{className:"grid grid-cols-3 gap-1",children:l.map(({value:r,label:t})=>e.jsx("button",{onClick:()=>c(r),className:`px-2 py-2 text-xs rounded-lg transition-colors ${i===r?"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:`${t} ëª¨ë“œ`,children:t},r))})},W=({currentView:i,onViewChange:c,isOpen:l,onToggle:r,isMobile:t=!1,forceMobile:o=null,onToggleForceMobile:g})=>{const{getOverdueTodos:p,getTomorrowTodos:y,getYesterdayIncompleteTodos:k,recurringTemplates:v,getRecurringTodos:f}=$(),{currentUser:d}=C(),{showVacationsInTodos:Y,toggleVacationDisplay:q}=A();console.log("ğŸ” Sidebar - currentUser:",d),console.log("ğŸ” Sidebar - currentUser?.email:",d?.email),console.log("ğŸ” Sidebar - isAdmin:",h(d?.email));const x=p(),j=y(),b=k(),N=v.filter(a=>a.isActive),w=new Date,u=f(),m=u.filter(a=>a.dueDate?new Date(a.dueDate).toDateString()===w.toDateString():!1);console.log("ğŸ” Sidebar - ì „ì²´ ë°˜ë³µ í• ì¼:",u.length),console.log("ğŸ” Sidebar - ì˜¤ëŠ˜ ë°˜ë³µ í• ì¼:",m.length),console.log("ğŸ” Sidebar - ì˜¤ëŠ˜ ë°˜ë³µ í• ì¼ ëª©ë¡:",m.map(a=>({title:a.title,completed:a.completed})));const T=[{id:"today",label:"ì˜¤ëŠ˜ í• ì¼",icon:n,count:0},{id:"week",label:"ì£¼ê°„ ìº˜ë¦°ë”",icon:z},{id:"month",label:"ì›”ê°„ ìº˜ë¦°ë”",icon:n},{id:"recurring",label:"ë°˜ë³µ íƒœìŠ¤í¬ ê´€ë¦¬",icon:E,count:N.length},{id:"history",label:"ì™„ë£Œ ê¸°ë¡",icon:I},{id:"analytics",label:"í†µê³„/ë¶„ì„",icon:U},{id:"vacation",label:"íœ´ê°€ ê´€ë¦¬",icon:n},{id:"settings",label:"ì„¤ì •",icon:V}];return e.jsxs(e.Fragment,{children:[t&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity duration-300",onClick:r}),e.jsxs("aside",{className:`fixed top-0 left-0 z-50 h-full transition-all duration-300 ease-in-out 
          ${l?"translate-x-0":"-translate-x-full"} 
          ${t?"w-[280px]":"w-64"}
          glass-card border-r border-white/40 dark:border-gray-700/40 rounded-none
          flex flex-col shadow-2xl`,children:[e.jsxs("div",{className:"p-6 flex items-center justify-between relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-blue-500/10 to-purple-500/10 dark:from-blue-500/5 dark:to-purple-500/5 pointer-events-none"}),e.jsx("h1",{className:"text-2xl font-bold text-gradient-blue relative z-10 tracking-tight",children:"Todo List"}),t&&e.jsx("button",{onClick:r,className:"p-2 rounded-xl hover:bg-white/50 dark:hover:bg-gray-700/50 text-gray-500 dark:text-gray-400 transition-colors relative z-10",children:e.jsx(L,{className:"w-5 h-5"})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto px-4 py-2 space-y-1 custom-scrollbar",children:[T.map(a=>{if(a.id==="analytics"&&!h(d?.email))return null;const s=i===a.id,D=a.icon;return e.jsxs("button",{onClick:()=>{c(a.id),t&&r()},className:`w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 group
                  ${s?"bg-blue-500/10 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400 shadow-sm border border-blue-100/50 dark:border-blue-500/30 backdrop-blur-sm":"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-gray-800/50 hover:text-gray-900 dark:hover:text-gray-200 hover:shadow-sm border border-transparent"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg transition-colors ${s?"bg-blue-100 dark:bg-blue-900/40":"bg-gray-100/50 dark:bg-gray-800/50 group-hover:bg-white dark:group-hover:bg-gray-700"}`,children:e.jsx(D,{className:`w-5 h-5 ${s?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-200"}`})}),e.jsx("span",{className:"font-medium",children:a.label})]}),a.count!==void 0&&a.count>0&&e.jsx("span",{className:`px-2 py-0.5 text-xs font-bold rounded-full ${s?"bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400"}`,children:a.count})]},a.id)}),e.jsx("div",{className:"my-4 border-t border-gray-200/50 dark:border-gray-700/50"}),e.jsxs("div",{className:"space-y-3 px-1",children:[b.length>0&&e.jsxs("div",{className:"glass-panel p-4 rounded-xl border-l-4 border-l-orange-400 group hover:scale-[1.02] transition-transform duration-200 bg-orange-50/30 dark:bg-orange-900/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-orange-600 dark:text-orange-400",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-bold",children:"ì–´ì œ ë¯¸ì™„ë£Œ"})]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:[b.length,e.jsx("span",{className:"text-sm font-normal text-gray-500 ml-1",children:"ê°œ"})]})]}),x.length>0&&e.jsxs("div",{className:"glass-panel p-4 rounded-xl border-l-4 border-l-red-500 group hover:scale-[1.02] transition-transform duration-200 bg-red-50/30 dark:bg-red-900/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-red-600 dark:text-red-400",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-bold",children:"ì§€ì—°ëœ í• ì¼"})]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:[x.length,e.jsx("span",{className:"text-sm font-normal text-gray-500 ml-1",children:"ê°œ"})]})]}),e.jsxs("div",{className:"glass-panel p-4 rounded-xl border-l-4 border-l-blue-400 group hover:scale-[1.02] transition-transform duration-200 bg-blue-50/30 dark:bg-blue-900/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-600 dark:text-blue-400",children:[e.jsx(n,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-bold",children:"ë‚´ì¼ ì˜ˆì •"})]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:[j.length,e.jsx("span",{className:"text-sm font-normal text-gray-500 ml-1",children:"ê°œ"})]})]})]})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200/50 dark:border-gray-700/50 bg-white/30 dark:bg-gray-900/30 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx(X,{}),e.jsx(R,{}),g&&e.jsx("button",{onClick:()=>g(!o),className:`p-2 rounded-xl transition-all ${o?"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"hover:bg-white/50 dark:hover:bg-gray-700/50 text-gray-500 dark:text-gray-400"}`,title:o?"ë°ìŠ¤í¬í†± ë·°ë¡œ ì „í™˜":"ëª¨ë°”ì¼ ë·° í…ŒìŠ¤íŠ¸",children:o?e.jsx(O,{className:"w-5 h-5"}):e.jsx(P,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mt-3 text-center",children:e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 font-medium",children:"v1.2.0 â€¢ Premium Edition"})})]})]})]})};export{W as default};
